# æ¸…ç† Ansible Java-App - æ‰‹åŠ¨æ“ä½œæŒ‡å—

## âœ… å·²è‡ªåŠ¨åˆ é™¤çš„é…ç½®é¡¹

ä»¥ä¸‹é…ç½®å·²åœ¨æ–‡ä»¶ä¸­è‡ªåŠ¨ç§»é™¤ï¼š

- âœ… `ansible/deploy.yml` - ç§»é™¤ java-app role
- âœ… `ansible/deploy.sh` - ç§»é™¤ java-app é€‰é¡¹å’Œç›¸å…³é€»è¾‘
- âœ… `ansible/deploy.ps1` - ç§»é™¤ java-app é€‰é¡¹å’Œç›¸å…³é€»è¾‘
- âœ… `.github/workflows/ansible-deploy.yml` - åªä¿ç•™ MySQL é€‰é¡¹
- âœ… æ–‡æ¡£æ›´æ–° - ç§»é™¤ java-app å¼•ç”¨

## âš ï¸ éœ€è¦æ‰‹åŠ¨åˆ é™¤çš„æ–‡ä»¶å¤¹

ä»¥ä¸‹æ–‡ä»¶å¤¹éœ€è¦ä½ æ‰‹åŠ¨åˆ é™¤ï¼š

```bash
# Linux/Mac
rm -rf ansible/roles/java-app/

# Windows PowerShell
Remove-Item -Recurse -Force ansible/roles/java-app

# Windows CMD
rmdir /s /q ansible\roles\java-app
```

### æˆ–è€…ä½¿ç”¨ VS Code

1. åœ¨ VS Code ä¸­æ‰“å¼€ `ansible/roles/` ç›®å½•
2. å³é”®ç‚¹å‡» `java-app` æ–‡ä»¶å¤¹
3. é€‰æ‹© **"Delete"**
4. ç¡®è®¤åˆ é™¤

## ğŸ“‹ æ¸…ç†æ£€æŸ¥æ¸…å•

- [ ] åˆ é™¤ `ansible/roles/java-app/` æ–‡ä»¶å¤¹
- [ ] éªŒè¯ `ansible/deploy.yml` åªåŒ…å« mysql role
- [ ] éªŒè¯ `ansible/deploy.sh` åªæ¥å— mysql å‚æ•°
- [ ] éªŒè¯ `ansible/deploy.ps1` åªæ¥å— mysql å‚æ•°
- [ ] éªŒè¯ `.github/workflows/ansible-deploy.yml` åªæœ‰ mysql é€‰é¡¹
- [ ] æµ‹è¯•æœ¬åœ°éƒ¨ç½²ï¼š`bash ansible/deploy.sh`
- [ ] æäº¤æ›´æ”¹ï¼š`git add . && git commit -m "Remove Ansible java-app redundancy"`

## ğŸ¯ æœ€ç»ˆçŠ¶æ€

åˆ é™¤å®Œæˆåï¼Œä½ çš„é¡¹ç›®ç»“æ„åº”è¯¥æ˜¯ï¼š

```
ansible/
â”œâ”€â”€ deploy.yml              â† åªæœ‰ mysql role
â”œâ”€â”€ deploy.sh              â† åªæ¥å— mysql å‚æ•°
â”œâ”€â”€ deploy.ps1             â† åªæ¥å— mysql å‚æ•°
â”œâ”€â”€ hosts.ini
â”œâ”€â”€ init-database.yml
â”œâ”€â”€ vars/
â”‚   â”œâ”€â”€ main.yml
â”‚   â””â”€â”€ vault.yml
â””â”€â”€ roles/
    â””â”€â”€ mysql/             â† åªæœ‰ mysql
        â”œâ”€â”€ tasks/
        â”‚   â””â”€â”€ main.yml
        â””â”€â”€ templates/
```

ä¸å†æœ‰ `roles/java-app/` ç›®å½•ã€‚

## âœ¨ éƒ¨ç½²æµç¨‹ç¡®è®¤

ç°åœ¨çš„éƒ¨ç½²æ–¹å¼ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ansible: éƒ¨ç½² MySQL                 â”‚
â”‚ å‘½ä»¤: bash ansible/deploy.sh        â”‚
â”‚ ä½ç½®: ä½ çš„ç”µè„‘æˆ– GitHub Actions    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Workflows: éƒ¨ç½² Docker åº”ç”¨  â”‚
â”‚ è§¦å‘: git push origin master         â”‚
â”‚ ä½ç½®: GitHub æœåŠ¡å™¨                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Oracle æœåŠ¡å™¨: è¿è¡Œåº”ç”¨             â”‚
â”‚ MySQL: è¿è¡Œåœ¨ä¸»æœºä¸Š                 â”‚
â”‚ Docker: è¿è¡Œåœ¨å®¹å™¨ä¸­                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ä¸‹ä¸€æ­¥

1. åˆ é™¤ `ansible/roles/java-app/` æ–‡ä»¶å¤¹
2. æäº¤æ›´æ”¹åˆ° Git
3. å‡†å¤‡éƒ¨ç½²ï¼

---

**æ¸…ç†å®Œæˆåï¼Œé¡¹ç›®ä¼šæ›´åŠ æ¸…æ™°å’Œæ˜“äºç»´æŠ¤ï¼** âœ¨
